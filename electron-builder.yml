appId: com.nade.desktop
productName: NADE Desktop
copyright: Copyright Â© 2024 NADE Team

directories:
  output: dist
  buildResources: build

files:
  - "src/**/*"
  - "package.json"
  - "!src/**/*.{ts,tsx,map}"
  - "!**/*.log"

asarUnpack:
  - "src/native/**/*"

win:
  target:
    - target: nsis
      arch:
        - x64
        - ia32
    - target: portable
    - target: appx
  icon: resources/icon.ico
  publisherName: NADE Team
  requestedExecutionLevel: asInvoker
  signAndEditExecutable: true

nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  allowElevation: true
  installerIcon: resources/icon.ico
  uninstallerIcon: resources/icon.ico
  installerHeaderIcon: resources/icon.ico
  createDesktopShortcut: true
  createStartMenuShortcut: true
  menuCategory: true
  shortcutName: NADE Desktop
  artifactName: ${name}-setup-${version}-${arch}.${ext}
  deleteAppDataOnUninstall: false
  include: build/installer.nsh

portable:
  artifactName: ${name}-portable-${version}-${arch}.${ext}

appx:
  applicationId: NADEDesktop
  displayName: NADE Desktop
  publisherDisplayName: NADE Team
  identityName: NADEDesktop
  backgroundColor: #202020
  showNameOnTiles: true
  setBuildNumber: false

mac:
  target:
    - dmg
    - zip
  icon: resources/icon.icns
  category: public.app-category.utilities
  hardenedRuntime: true
  gatekeeperAssess: false
  darkModeSupport: true

linux:
  target:
    - AppImage
    - deb
    - rpm
  icon: resources
  category: AudioVideo
  synopsis: Professional Audio Encryption Bridge System
  description: NADE Desktop Application for secure audio communication

publish:
  - provider: github
    owner: nade-team
    repo: nade-desktop

protocols:
  - name: NADE Protocol
    schemes:
      - nade

extraResources:
  - from: resources/
    to: resources/
    filter:
      - "**/*"

extraMetadata:
  main: src/main/index.js